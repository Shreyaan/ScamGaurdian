name: Create Archive
on:
  push:
    branches:
      - dev
      - master
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3.1.0
      - name: Create Extension Release
        uses: thedoctor0/zip-release@main
        with:
          type: 'zip'
          filename: 'extension.zip'
          path: './extension'
          exclusions: '*.git* /*node_modules/* .editorconfig'
      - name: Release Extension
        uses: actions/upload-release-asset@v1
        with:
          asset_path: 'extension.zip'
          asset_name: 'extension.zip'
          release_name: 'v1.0.0'
